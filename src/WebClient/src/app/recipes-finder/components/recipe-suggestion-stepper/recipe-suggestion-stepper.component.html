<div class="stepper" *transloco="let t">
  <div class="steps-container">
    <p-steps [model]="steps" [readonly]="false"></p-steps>
  </div>
  <div class="step-content-container">
    <div class="step-content">
      <router-outlet></router-outlet>
    </div>
    <div class="steps-bottom-bar">
      <p-button *ngIf="!stepperService.isFirstStep" [label]="t('component-labels.back')"
        [disabled]="(stepperService.currentStepStatus$ | async) === stepStatus.Loading"
        (onClick)="stepperService.previousStep()">
      </p-button>
      <p-button *ngIf="!stepperService.isLastStep" [label]="t('component-labels.next')"
        [disabled]="(stepperService.currentStepStatus$ | async) === stepStatus.Loading || (stepperService.currentStep.isRequired && (stepperService.currentStepStatus$ | async) !== stepStatus.Valid)"
        (onClick)="stepperService.nextStep()">
      </p-button>
      <p-button *ngIf="stepperService.isLastStep" [label]="t('component-labels.complete')"
        [disabled]="(stepperService.currentStepStatus$ | async) === stepStatus.Loading || (stepperService.currentStep.isRequired && (stepperService.currentStepStatus$ | async) !== stepStatus.Valid)"
        (onClick)="completeStepper()"></p-button>
    </div>
  </div>
</div>
